var n=[].slice.call(document.querySelectorAll(".pallio"));var a={i:"0px 0px 5px 0px",threshold:0};var e=function e(i){requestAnimationFrame(function(){i.setAttribute("class","pallio")});var r=i&&i.href;if(!r)return;var t=new Image;if(i.dataset){t.srcset=i.dataset.srcset||"";t.sizes=i.dataset.sizes||""}t.src=r;t.setAttribute("class","reveal");var n=function n(){var e=i;requestAnimationFrame(function(){i.setAttribute("class","pallio pulse-active");if(r===i.href){e.style.cursor="default";e.addEventListener("click",function(n){n.preventDefault()},false)}var n=i.querySelector&&i.querySelector(".preview");var a=i.querySelector(".pulse-box");i.insertBefore(t,n&&n.nextSibling).addEventListener("animationend",function(){if(n){t.alt=n.alt||"";i.removeChild(n);i.removeChild(a)}t.removeAttribute("class","reveal");e.setAttribute("class","pallio")})})};if(t.complete)n();else t.onload=n};var i=new IntersectionObserver(function(n,a){n.forEach(function(n){requestAnimationFrame(function(){if(n.t){e(n.target);a.unobserve(n.target)}})})},a);n.forEach(function(n){i.observe(n)});
